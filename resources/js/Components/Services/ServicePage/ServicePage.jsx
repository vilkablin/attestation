import React from "react";
import { Head, Link, usePage } from "@inertiajs/react";
import { BaseButton } from "../../UI/Button/Button";
import { Container } from "../../UI/Container/Container";
import styles from "./ServicePage.module.scss";

export default function ServicePage({ service, locations }) {
    let locationsArr = locations.flat();
    const { auth } = usePage().props;

    return (
        <Container>
            <div className={styles.breads}>
                <Link href={"/services"}>Каталог</Link> <p>/ {service.title}</p>
            </div>
            <div className={styles.service}>
                <div className={styles.imgWrapper}>
                    <img
                        src={`/storage/${service.image}`}
                        alt={service.title}
                        className="w-full rounded-xl mb-4"
                    />
                    <Link
                        href={`/appointments/make/${service.id}`}
                        className={styles.link}
                    >
                        <BaseButton disabled={!auth.user} size="ml">
                            Записаться
                        </BaseButton>
                    </Link>

                    <h1 className={styles.title}>{service.title}</h1>
                </div>
                <div className={styles.content}>
                    <div className={styles.description}>
                        <h4>{service.title} это -</h4>
                        <p>
                            {service.description || "Описание скоро появится."}
                        </p>
                    </div>
                    <div className={styles.icons}>
                        <div className={styles.text}>
                            <svg
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                    d="M12 12.5C11.0717 12.5 10.1815 12.8687 9.52513 13.5251C8.86875 14.1815 8.5 15.0717 8.5 16C8.5 16.9283 8.86875 17.8185 9.52513 18.4749C10.1815 19.1313 11.0717 19.5 12 19.5C12.9283 19.5 13.8185 19.1313 14.4749 18.4749C15.1313 17.8185 15.5 16.9283 15.5 16C15.5 15.0717 15.1313 14.1815 14.4749 13.5251C13.8185 12.8687 12.9283 12.5 12 12.5ZM10.5 16C10.5 15.6022 10.658 15.2206 10.9393 14.9393C11.2206 14.658 11.6022 14.5 12 14.5C12.3978 14.5 12.7794 14.658 13.0607 14.9393C13.342 15.2206 13.5 15.6022 13.5 16C13.5 16.3978 13.342 16.7794 13.0607 17.0607C12.7794 17.342 12.3978 17.5 12 17.5C11.6022 17.5 11.2206 17.342 10.9393 17.0607C10.658 16.7794 10.5 16.3978 10.5 16Z"
                                    fill="#09C690"
                                />
                                <path
                                    d="M17.526 5.11594L14.347 0.658936L2.658 9.99693L2.01 9.98993V9.99994H1.5V21.9999H22.5V9.99994H21.538L19.624 4.40094L17.526 5.11594ZM19.425 9.99994H9.397L16.866 7.45394L18.388 6.96694L19.425 9.99994ZM15.55 5.78994L7.84 8.41794L13.946 3.53994L15.55 5.78994ZM3.5 18.1689V13.8289C3.92218 13.6799 4.30565 13.4383 4.62231 13.1219C4.93896 12.8054 5.18077 12.422 5.33 11.9999H18.67C18.8191 12.4222 19.0609 12.8058 19.3775 13.1224C19.6942 13.4391 20.0777 13.6808 20.5 13.8299V18.1699C20.0777 18.319 19.6942 18.5608 19.3775 18.8775C19.0609 19.1941 18.8191 19.5777 18.67 19.9999H5.332C5.18218 19.5776 4.93996 19.1941 4.62302 18.8773C4.30607 18.5605 3.9224 18.3185 3.5 18.1689Z"
                                    fill="#09C690"
                                />
                            </svg>
                            <p className={styles.price}>
                                {Number(service.price).toLocaleString("ru-RU")}{" "}
                                ₽
                            </p>
                        </div>
                        <div className={styles.text}>
                            <svg
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                    d="M12 2C17.523 2 22 6.477 22 12C22 17.523 17.523 22 12 22C6.477 22 2 17.523 2 12C2 6.477 6.477 2 12 2ZM12 4C9.87827 4 7.84344 4.84285 6.34315 6.34315C4.84285 7.84344 4 9.87827 4 12C4 14.1217 4.84285 16.1566 6.34315 17.6569C7.84344 19.1571 9.87827 20 12 20C14.1217 20 16.1566 19.1571 17.6569 17.6569C19.1571 16.1566 20 14.1217 20 12C20 9.87827 19.1571 7.84344 17.6569 6.34315C16.1566 4.84285 14.1217 4 12 4ZM12 6C12.2449 6.00003 12.4813 6.08996 12.6644 6.25272C12.8474 6.41547 12.9643 6.63975 12.993 6.883L13 7V11.586L15.707 14.293C15.8863 14.473 15.9905 14.7144 15.9982 14.9684C16.006 15.2223 15.9168 15.4697 15.7488 15.6603C15.5807 15.8508 15.3464 15.9703 15.0935 15.9944C14.8406 16.0185 14.588 15.9454 14.387 15.79L14.293 15.707L11.293 12.707C11.1376 12.5514 11.0378 12.349 11.009 12.131L11 12V7C11 6.73478 11.1054 6.48043 11.2929 6.29289C11.4804 6.10536 11.7348 6 12 6Z"
                                    fill="#09C690"
                                />
                            </svg>
                            <p className={styles.price}>{service.time} минут</p>
                        </div>
                        <div className={styles.text}>
                            <svg
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                    fillRule="evenodd"
                                    clipRule="evenodd"
                                    d="M12 2C14.3869 2 16.6761 2.94821 18.364 4.63604C20.0518 6.32387 21 8.61305 21 11C21 14.074 19.324 16.59 17.558 18.395C16.6757 19.2871 15.7129 20.0958 14.682 20.811L14.256 21.101L14.056 21.234L13.679 21.474L13.343 21.679L12.927 21.921C12.6446 22.0822 12.3251 22.1669 12 22.1669C11.6749 22.1669 11.3554 22.0822 11.073 21.921L10.657 21.679L10.137 21.359L9.945 21.234L9.535 20.961C8.42283 20.2085 7.3869 19.3491 6.442 18.395C4.676 16.589 3 14.074 3 11C3 8.61305 3.94821 6.32387 5.63604 4.63604C7.32387 2.94821 9.61305 2 12 2ZM12 4C10.1435 4 8.36301 4.7375 7.05025 6.05025C5.7375 7.36301 5 9.14348 5 11C5 13.322 6.272 15.36 7.871 16.996C8.55853 17.692 9.30166 18.3308 10.093 18.906L10.551 19.232C10.699 19.3353 10.8413 19.4313 10.978 19.52L11.368 19.77L11.711 19.979L12 20.148L12.455 19.879L12.822 19.649C13.0173 19.525 13.2263 19.386 13.449 19.232L13.907 18.906C14.6983 18.3308 15.4415 17.692 16.129 16.996C17.728 15.361 19 13.322 19 11C19 9.14348 18.2625 7.36301 16.9497 6.05025C15.637 4.7375 13.8565 4 12 4ZM12 7C13.0609 7 14.0783 7.42143 14.8284 8.17157C15.5786 8.92172 16 9.93913 16 11C16 12.0609 15.5786 13.0783 14.8284 13.8284C14.0783 14.5786 13.0609 15 12 15C10.9391 15 9.92172 14.5786 9.17157 13.8284C8.42143 13.0783 8 12.0609 8 11C8 9.93913 8.42143 8.92172 9.17157 8.17157C9.92172 7.42143 10.9391 7 12 7ZM12 9C11.4696 9 10.9609 9.21071 10.5858 9.58579C10.2107 9.96086 10 10.4696 10 11C10 11.5304 10.2107 12.0391 10.5858 12.4142C10.9609 12.7893 11.4696 13 12 13C12.5304 13 13.0391 12.7893 13.4142 12.4142C13.7893 12.0391 14 11.5304 14 11C14 10.4696 13.7893 9.96086 13.4142 9.58579C13.0391 9.21071 12.5304 9 12 9Z"
                                    fill="#09C690"
                                />
                            </svg>
                            {locationsArr.map((item, index) => {
                                return (
                                    <p key={index} className={styles.adress}>
                                        {item.address}
                                    </p>
                                );
                            })}
                        </div>
                    </div>
                </div>
            </div>
        </Container>
    );
}
